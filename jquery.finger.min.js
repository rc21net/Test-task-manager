/*! jquery.finger - v0.0.11 - 2013-04-27
* https://github.com/ngryman/jquery.finger
* Copyright (c) 2013 Nicolas Gryman; Licensed MIT */
(function(t){function e(t,e){return(r?e.originalEvent.touches[0]:e)["page"+t.toUpperCase()]}function a(a){var r={},v=t.data(this,u);i!=a.timeStamp&&(i=a.timeStamp,r.move={x:e("x",a),y:e("y",a)},r.start=t.extend({time:a.timeStamp,target:a.target},r.move),r.timeout=setTimeout(t.proxy(function(){t.event.trigger(t.Event("press",r.move),null,a.target),t.event.remove(this,s+"."+u,n),t.event.remove(this,d+"."+u,o)},this),t.Finger.pressDuration),t.event.add(this,s+"."+u,n,r),t.event.add(this,d+"."+u,o,r),v.preventDefault&&a.preventDefault())}function n(a){var n=a.data,i=n.start,r=n.move;return r.x=e("x",a),r.y=e("y",a),r.dx=r.x-i.x,r.dy=r.y-i.y,r.adx=Math.abs(r.dx),r.ady=Math.abs(r.dy),n.motion=r.adx>l.motionThreshold||r.ady>l.motionThreshold,n.motion?(clearTimeout(n.timeout),r.orientation||(r.adx>n.move.ady?(r.orientation="horizontal",r.direction=r.dx>0?1:-1):(r.orientation="vertical",r.direction=r.dy>0?1:-1)),a.target!==i.target?(a.target=i.target,o.call(this,t.Event(d+"."+u,a)),void 0):(t.event.trigger(t.Event("drag",r),null,a.target),void 0)):void 0}function o(e){var a,i=e.data,r=e.timeStamp,v=t.data(this,u),m=r-i.start.time;clearTimeout(i.timeout),e.target===i.start.target&&(i.motion?(a=l.flickDuration>m?"flick":"drag",i.move.end=!0):(a=l.pressDuration>m&&!v.prev||v.prev&&r-v.prev>l.doubleTapInterval?"tap":"doubletap",v.prev=r),t.event.trigger(t.Event(a,i.move),null,e.target),t.event.remove(this,s+"."+u,n),t.event.remove(this,d+"."+u,o))}var i,r="ontouchstart"in window,v=r?"touchstart":"mousedown",d=r?"touchend touchcancel":"mouseup mouseleave",s=r?"touchmove":"mousemove",u="finger",l=t.Finger={pressDuration:300,doubleTapInterval:300,flickDuration:150,motionThreshold:5},m={add:function(e){var n,o=e.data;t.data(this,u)||(t.event.add(this,v+"."+u,a),n=t.data(this,u,{}),(l.preventDefault||o&&o.preventDefault)&&(n.preventDefault=!0))},teardown:function(){t.data(this,u)&&(t.event.remove(this,v+"."+u,a),t.data(this,u,null))}};t.event.special.tap=m,t.event.special.press=m,t.event.special.doubletap=m,t.event.special.drag=m,t.event.special.flick=m})(jQuery);